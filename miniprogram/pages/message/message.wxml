<!--pages/message/message.wxml-->

<view class="container">
    <block wx:for="{{list}}" wx:key="index" wx:item="item">
        <van-panel title="{{ item.title }}" status="{{ comp.statusText(item.status) }}" use-footer-slot>
            <view style="padding: 32rpx;">{{ item.content }}</view>
            <view slot="footer">
                <cell wx:if="{{item.type === 'exchangeCode'}}">
                    <view slot="bd"></view>
                    <van-button slot="ft" disabled="{{ item.status !== 1}}" size="small" bind:click="linkExchangeCode" data-code="{{item.exchangeCode}}" type="warning">兑换</van-button>
                </cell>
            </view>
        </van-panel>
    </block>
</view>

<!--wxml-->
<wxs module="comp">
module.exports.statusText = function(status) {
    if (status === 1) return "待兑换";
    if (status === 2) return "已兑换";
}
</wxs>