<!--pages/buy/buy.wxml-->
<view class="container">
	<view class="top-box">
		<view class="circle circle1"></view>
		<view class="circle circle2"></view>
		<view class="circle circle3"></view>
		<view class="circle circle4"></view>
	
		<view class="header">
			<image class="icon-back-img" bindtap="handerBack" src="../../assets/imgs/icon-left-arrow-white.png" mode="widthFix"></image>
			<view class="flex1 text-center cl_fff ft_14">开通会员</view>
			<view class="icon-back-img"></view>
		</view>
		<view class="signUpNum">
			<view class="signUpNumAnimation">已有 <text class="num">{{signUpNumber}}</text> 位同学加入会员·提升数听力</view>
		</view>
	</view>

	<view class="member-card">
		<view style="padding: 30rpx;">
			<cell>
				<view slot="bd" style="color: #000; font-weight: bold;">选择会员类型</view>
			</cell>
		</view>

		<van-radio-group value="{{ memberType }}" bind:change="onRadioChange">
			<van-cell-group border="{{ false }}">
				<van-cell wx:if="{{ env.platform === 'android' }}" clickable  use-label-slot border bind:click="memberDayCellClick">
					<view slot="title" class="member-name">自定义天数 · ¥{{ oneDayPrice }}/天</view>
					<view slot="label" >
						<view style="padding: 32rpx 20rpx;">
							<van-slider  value="{{ memberDay }}" active-color="#FE3F1D" min="10" max="100" step="1" use-button-slot bind:drag="onMemberDayChange" bind:change="onMemberDayChange">
								<view class="member-day" slot="button">
									{{ memberDay }}天
								</view>
							</van-slider>
						</view>
						<view class="price">￥{{ memberDayPrice / 100 }}</view>
					</view>
					<van-radio slot="right-icon" name="10" checked-color="#5862F6" />
				</van-cell>
				<block wx:for="{{ goods }}" wx:key="index" wx:for-item="item">
					<van-cell clickable data-item="{{ item }}" bind:click="onRadioCellClick" use-label-slot border="{{ index === goods.length -1 ? false : true }}">
						<view slot="title" class="member-name">{{ item.name }}<text wx:if="{{ item.isRecommend }}" style="color: #FE3F1D">（推荐）</text></view>
						<view wx:if="{{ env.platform === 'android' }}" slot="label" class="price">￥{{ item.price }} <text class="old-price">￥{{ item.oldPrice }}</text></view>
						<view wx:else slot="label" class="price">免费</view>
						<van-radio slot="right-icon" name="{{ item.memberType }}" checked-color="#5862F6" />
					</van-cell>
				</block>
			</van-cell-group>
		</van-radio-group>
	</view>

	<view class="ios-submit-bar" wx:if="{{ env.platform !== 'android' }}">IOS版小程序，功能暂不支持</view>
	<view wx:else class="pay-submit-bar">
		<van-button round block color="#5862F6" loading="{{ paying }}">立即支付 ￥{{ price / 100 }}</van-button>
		<view class="ft_12 text-center mt_6" style="color: #4a4a4a;">注：支付提示跳转payjs，属系统正常流程，请安心支付</view>
	</view>

	<van-dialog id="van-dialog" />
	<van-toast id="van-toast" />

</view>